{"version":3,"sources":["action.js","utils.js","constant.js","button.js","calculator.js","App.js","reducer.js","index.js"],"names":["updateCalculation","inputValue","currentState","currentResult","updateCalculationArray","value","Object","toConsumableArray","operatorValues","includes","length","lastValue","lastValueIsOperator","currentValuesIsOperator","concat","addValueToCalculation","type","payload","calculation","result","calcArray","isNaN","operatorFunction","+","a","b","-","*","/","calcArrayUpdated","join","split","operator","i","item","test","parseInt","CButton","_this","this","react_default","createElement","className","props","additionalClass","onClick","htmlCode","String","fromCharCode","Component","connect","state","dispatch","Calculator","forceScrollOnDisplay","refs","calculationDisplay","scrollLeft","resultDisplay","srollLeft","replace","ref","dangerouslySetInnerHTML","__html","replaceChars","clearCalculation","src_button","App","calculator","initialState","CReducer","arguments","undefined","action","store","createStore","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.af974271.chunk.js","sourcesContent":["import { calculation, addValueToCalculation } from './utils';\r\nimport { UPDATE_CALCULATION_AND_RESULT, CLEAR_ALL} from './constant';\r\n\r\nexport const updateCalculation = (inputValue, currentState, currentResult) => {\r\n\tlet updateCalculationArray = addValueToCalculation(inputValue, currentState);\r\n\tlet calculationResult= calculation(updateCalculationArray, currentResult);\r\n\r\n\treturn {\r\n\t\ttype: UPDATE_CALCULATION_AND_RESULT,\r\n\t\tpayload: {\r\n\t\t\tcalculation: updateCalculationArray,\r\n\t\t\tresult: calculationResult\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const clearCalculation =() => {\r\n\treturn {\r\n\t\ttype: CLEAR_ALL,\r\n\t\tpayload: {\r\n\t\t\tcalculation: [],\r\n\t\t\tresult: 0\r\n\t\t}\r\n\t}\r\n};","export const calculation = (calcArray, currentResult) => {\r\n\tif(isNaN(calcArray[calcArray.length-1])) {\r\n\t\treturn currentResult;\r\n\t}\r\n\r\n\tconst operatorFunction ={\r\n\t\t'+': (a, b) => {\r\n\t\treturn a+b;\r\n\t\t},\r\n\t\t'-': (a, b) => {\r\n\t\t\treturn a-b;\r\n\t\t},\r\n\t\t'*': (a, b) => {\r\n\t\t\treturn a*b;\r\n\t\t},\r\n\t\t'/': (a, b) => {\r\n\t\t\treturn a/b;\r\n\t\t}\r\n\t};\r\n\r\n\tlet calcString= calcArray.join('');\r\n\tlet calcArrayUpdated= calcString.split(/(\\+|-|\\*|\\/)/g);\r\n\tlet result= 0;\r\n\tlet operator ='+';\r\n\r\n\tfor(let i=0; i<calcArrayUpdated.length; i++) {\r\n\t\tlet item=calcArrayUpdated[i];\r\n\t\tlet isOperator=/(\\+|-|\\*|\\/)/.test(item);\r\n\r\n\t\tif(isOperator) {\r\n\t\t\toperator =item;\r\n\t\t} else {\r\n\t\t\tresult = operatorFunction[operator](result,parseInt(item));\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nexport const addValueToCalculation=(value, currentState) => {\r\n\tcurrentState=[...currentState];\r\n\r\n\tlet operatorValues= ['*','/','+','-'];\r\n\tif (typeof value !=='number' && !operatorValues.includes(value)) {\r\n\t\treturn currentState;\r\n\t}\r\n\r\n\tif (operatorValues.includes(value)&& !currentState.length) {\r\n\t\treturn currentState;\r\n\t}\r\n\r\n\tlet lastValue = currentState[currentState.length-1];\r\n\tlet lastValueIsOperator= operatorValues.includes(lastValue);\r\n\tlet currentValuesIsOperator= operatorValues.includes(value);\r\n\r\n\tif(lastValueIsOperator && currentValuesIsOperator) {\r\n\t\tcurrentState[currentState.length-1]= value;\r\n\t\treturn currentState;\r\n\t}\r\n\r\n\treturn [...currentState,value];\r\n}","export const UPDATE_CALCULATION_AND_RESULT = 'UPDATE_CALCULATION_AND_RESULT';\r\nexport const CLEAR_ALL = 'CLEAR_ALL';","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { updateCalculation } from './action';\r\n\r\nclass CButton extends Component {\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<button\r\n\t\t\t\tclassName={`cInput ${this.props.additionalClass}`}\r\n\t\t\t\tonClick={()=> this.props.updateCalculation(this.props.value, this.props.calculation, this.props.result)}>\r\n\t\t\t\t{this.props.htmlCode ? String.fromCharCode(this.props.htmlCode) : this.props.value}\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tupdateCalculation: (inputValue, currentState, currentResult)=>\r\n\tdispatch(updateCalculation(inputValue, currentState, currentResult))\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcalculation: state.calculation,\r\n\tresult: state.result\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CButton);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { updateCalculation, clearCalculation } from './action';\r\nimport CButton from './button';\r\n\r\nclass Calculator extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.forceScrollOnDisplay();\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.forceScrollOnDisplay();\r\n\t}\r\n\r\n\tforceScrollOnDisplay() {\r\n\t\tthis.refs.calculationDisplay.scrollLeft = 10000;\r\n\t\tthis.refs.resultDisplay.srollLeft= 10000;\r\n\t}\r\n\r\n\treplaceChars(value) {\r\n\t\tvalue=value.join(\"\");\r\n\t\tvalue=value.replace(/\\//g, '<span class=\"operatorStyle\">รท</span>');\r\n\t\tvalue=value.replace(/\\*/g, '<span class=\"operatorStyle\">ร</span>');\r\n\t\tvalue=value.replace(/-/g, '<span class=\"operatorStyle\">-</span>');\r\n\t\tvalue=value.replace(/\\+/g, '<span class=\"operatorStyle\">+</span>');\r\n\t\treturn value;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='calculator'>\r\n\t\t\t\t<div className='calculatorResult'>\r\n\t\t\t\t\t<div ref='calculationDisplay' className='calculationDisplay' \r\n\t\t\t\t\tdangerouslySetInnerHTML={{__html:this.props.calculation.length ? \r\n\t\t\t\t\t\tthis.replaceChars(this.props.calculation) : 0 }} />\r\n\t\t\t\t\t<div ref='resultDisplay' className='resultDisplay'>{this.props.result}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button className='clear' onClick={()=>this.props.clearCalculation()}>C</button>\r\n\t\t\t\t<div className='input'>\r\n\t\t\t\t\t<CButton value={7} />\r\n\t\t\t\t\t<CButton value={8} />\r\n\t\t\t\t\t<CButton value={9} />\r\n\t\t\t\t\t<CButton value=\"/\" htmlCode=\"247\" additionalClass=\"operator\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='input'>\r\n\t\t\t\t\t<CButton value={4} />\r\n\t\t\t\t\t<CButton value={5} />\r\n\t\t\t\t\t<CButton value={6} />\r\n\t\t\t\t\t<CButton value=\"*\" htmlCode=\"215\" additionalClass=\"operator\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='input'>\r\n\t\t\t\t\t<CButton value={1} />\r\n\t\t\t\t\t<CButton value={2} />\r\n\t\t\t\t\t<CButton value={3} />\r\n\t\t\t\t\t<CButton value=\"-\" htmlCode=\"8722\" additionalClass=\"operator\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='input'>\r\n\t\t\t\t\t<CButton value={0} additionalClass=\"zero\" />\r\n\t\t\t\t\t<CButton value=\"+\" htmlCode=\"43\" additionalClass=\"operator\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch) => ({\r\n\tupdateCalculation: (inputValue, currentState, currentResult)=>\r\n\tdispatch(updateCalculation(inputValue, currentState,currentResult)),\r\n\tclearCalculation: () => dispatch(clearCalculation())\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcalculation: state.calculation,\r\n\tresult: state.result\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Calculator);","import React, { Component } from 'react';\nimport Calculator from './calculator';\nimport './app.css';\n\nclass App extends Component {\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"Calculator\">\n          <Calculator />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;","import { UPDATE_CALCULATION_AND_RESULT, CLEAR_ALL} from './constant';\n\nconst initialState = {\n\tcalculation: [],\n\tresult: 0\n};\n\nconst CReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase UPDATE_CALCULATION_AND_RESULT:\n\t\t\treturn {\n\t\t\t\tcalculation: action.payload.calculation,\n\t\t\t\tresult: action.payload.result\n\t\t\t};\n\t\tcase CLEAR_ALL:\n\t\t\treturn {\n\t\t\t\tcalculation: [],\n\t\t\t\tresult:0\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default CReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport CReducer from './reducer';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nlet store = createStore(CReducer);\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n, document.getElementById('root'));"],"sourceRoot":""}